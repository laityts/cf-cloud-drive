name = "cf-cloud-drive"
main = ".open-next/worker.js"
compatibility_date = "2024-12-31"
compatibility_flags = ["nodejs_compat"]

[assets]
directory = ".open-next/assets"
binding = "ASSETS"

# D1 Database Binding
[[d1_databases]]
binding = "DB"
database_name = "timgs"
database_id = "02ba24d568fe42eda03fe309a479ebc6" # Placeholder for local dev. Replace with real ID for remote.
migrations_dir = "drizzle"

# R2 Bucket Binding
[[r2_buckets]]
binding = "R2"
bucket_name = "timgs" # Replace with your R2 bucket name

# KV Namespace Binding (Optional for MVP, but good for sessions)
[[kv_namespaces]]
binding = "KV"
id = "02ba24d568fe42eda03fe309a479ebc6" # Run `wrangler kv:namespace create cf-cloud-drive-kv` to get the ID

[observability]
[observability.logs]
enabled = true
head_sampling_rate = 1
invocation_logs = true
persist = true

[observability.traces]
enabled = false
persist = true
head_sampling_rate = 1