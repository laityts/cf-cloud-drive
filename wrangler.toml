name = "cf-cloud-drive"
main = ".open-next/worker.js"
compatibility_date = "2024-12-31"
compatibility_flags = ["nodejs_compat"]

[assets]
directory = ".open-next/assets"
binding = "ASSETS"

# D1 Database Binding
[[d1_databases]]
binding = "DB"
database_name = "cf-cloud-drive-db"
database_id = "" # TODO: Replace with your D1 Database ID
migrations_dir = "drizzle"

# R2 Bucket Binding
[[r2_buckets]]
binding = "R2"
bucket_name = "cf-cloud-drive-r2"

# KV Namespace Binding (Optional for MVP, but good for sessions)
[[kv_namespaces]]
binding = "KV"
id = "" # TODO: Replace with your KV Namespace ID

[observability]
[observability.logs]
enabled = true
head_sampling_rate = 1
invocation_logs = true
persist = true

[observability.traces]
enabled = false
persist = true
head_sampling_rate = 1
